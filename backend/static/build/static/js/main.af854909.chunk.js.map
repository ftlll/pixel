{"version":3,"sources":["redux/toolTypes.js","redux/actions/actionTypes.js","redux/actions/action.js","utils/localStorage.js","utils/startup.js","components/Header.jsx","utils/drawHandler.js","components/Cell.jsx","components/Grid.jsx","components/Canvas.jsx","components/ColorPicker.jsx","components/Pencil.jsx","components/Eraser.jsx","components/EyeDropper.jsx","components/PaletteCell.jsx","components/PaletteGrid.jsx","components/PaintBucket.jsx","components/UndoRedo.jsx","components/Animation.jsx","components/Preview.jsx","utils/generateCSS.js","components/Upload.jsx","components/LocalData.jsx","components/Download.jsx","components/DisplayCSS.jsx","components/Popup.jsx","components/NewProject.jsx","components/Clear.jsx","components/Save.jsx","components/Frame.jsx","components/FrameList.jsx","components/ChangeDimension.jsx","components/Duration.jsx","components/CellSize.jsx","App.js","redux/reducers/canvasReducer.js","redux/reducers/selectedCanvasReducer.js","redux/reducers/drawingToolReducer.js","redux/reducers/paletteReducer.js","redux/reducers/reducer.js","redux/store.js","serviceWorker.js","index.js"],"names":["PENCIL","APPLY_PENCIL","tool","APPLY_ERASER","APPLY_PAINT_BUCKET","APPLY_EYE_DROPPER","APPLY_COLOR_PICKER","init","type","newProject","clear","setCanvas","grids","paletteGrid","cellSize","columns","rows","changeName","name","changeDimensions","newColumns","newRows","changeDuration","duration","changeCellSize","size","importPixelate","options","applyTools","paletteColor","color","id","drawingTool","switchTool","selectPaletteColor","applyColorPicker","addNewFrame","addDuplicatedFrame","deleteFrame","switchFrame","reorderFrame","initIndex","finalIndex","undo","ActionCreators","redo","getDataFromStorage","storage","data","getItem","JSON","parse","e","removeProjectFromStorage","indexToRemove","dataStored","newCurrent","stored","splice","length","current","setItem","stringify","saveDataToStorage","initialSetup","dispatch","paletteGridData","actions","initStorage","HeaderContainer","connect","state","present","get","className","href","target","rel","getCellActionProps","props","grid","drawHandlerProvider","canvas","onMouseUp","setState","pressed","drawHandlers","onMouseDown","ev","preventDefault","actionProps","onMouseOver","Cell","nextProps","this","cell","width","drawHandler","style","paddingBottom","backgroundColor","onFocus","onTouchStart","React","Component","Grid","newProps","cells","map","i","key","Canvas","onTouchEnd","onTouchCancel","CanvasContainer","palette","activeIndex","getIn","cellProps","ColorPicker","visible","handleClick","handleClose","applyPencil","colorString","rgb","r","g","b","a","styles","picker","position","bottom","left","popover","zIndex","right","top","cover","onClick","onChange","onClose","ColorPickerContainer","toObject","active","PencilContainer","usingPencil","switchPencil","aria-label","EraserContainer","usingEraser","switchEraser","EyeDropperContainer","usingEyeDropper","switchEyeDropper","PlatteCell","height","PaletteGrid","PaletteCell","PaletteGridContainer","bindActionCreators","PaintBucketContainer","usingPaintBucket","switchPaintBucket","UndoRedoContainer","Animation","radium","pulseKeyframes","keyframes","boxShadow","animation","animationName","Preview","storedData","animationData","cssString","animate","previewWrapper","frames","newFrames","List","equalPercentage","forEach","frame","index","interval","Math","round","newFrame","Map","push","getAnimationKeyframes","pSize","c","generateAnimationCSSData","getImageData","format","generatePixelDrawCss","MozBoxShadow","WebkitBoxShadow","generatePreview","Upload","fileUpload","fileProcess","file","rejectedFiles","UploadContainer","FormData","append","fetch","headers","method","body","then","res","json","alert","browserStorage","localStorage","LoadData","importedProject","projectData","exportedStringToProjectData","importProjectData","value","close","NotificationManager","success","error","stopPropagation","elem","fromJS","drawingClick","onKeyPress","tabIndex","event","removeFromStorage","drawingsStored","getDrawing","loadType","getOptions","DownloadContainer","blob","FileSaver","saveAs","DisplayCSS","readOnly","getAnimationCssClassOutput","cssClassName","exportAnimationData","getImageCssClassOutput","getCssImageClassOutput","Popup","changeType","getImportContent","importType","closeModal","open","openModal","getExportContent","exportType","gifPreview","textAlign","getPreviewContent","getModalContent","popUpType","content","values","labelField","searchable","effect","onClickAway","PopupContainer","activeGrid","NewProjectContainer","ClearContainer","SaveContainer","drawingToSave","saveProjectToStorage","Frame","addDuplicate","draggableId","toString","provided","draggableProps","dragHandleProps","ref","innerRef","FrameList","onDragEnd","result","destination","source","droppableId","display","flexDirection","marginLeft","marginBottom","direction","droppableProps","getFrames","placeholder","FrameListContainer","ChangeDimensionContainer","DurationContainer","CellSizeContainer","App","popUpShown","setPopUp","closePopUp","initCanvas","action","parseInt","merge","changeDimension","newGrids","dRow","dCol","newGrid","j","insert","changeDimensionForOne","remove","moveForward","insertPos","deletePos","drawPixel","set","applyPencilToGrid","setIn","isSameColor","colorA","colorB","getSameColorAdjCells","sameColorAdjCells","applyPaintBucket","currentId","adjCells","originalColor","cellQueue","shift","adjId","adjColor","indexOf","applyPaintBucketToGrid","applyEraser","drawingToolReducer","initPalette","setPalette","disablePaletteColor","applyEyeDropper","searchForColor","location","setInitialState","initialState","generateDefaultState","pipeReducers","reducers","reduce","reducer","partialReducer","store","createStore","undoable","canvasReducer","selectedCanvasReducer","paletteReducer","filter","includeAction","debug","Boolean","window","hostname","match","rootElement","document","getElementById","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","catch","console","message"],"mappings":"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","file":"static/js/main.af854909.chunk.js","sourcesContent":["export const PENCIL = 'PENCIL';\nexport const ERASER = 'ERASER';\nexport const PAINT_BUCKET = 'PAINT_BUCKET';\nexport const MOVE = 'MOVE';\nexport const EYE_DROPPER = 'EYE_DROPPER';\nexport const COLOR_PICKER = 'COLOR_PICKER';","import * as tool from '../toolTypes';\n\nexport const SET_COLOR = 'SET_COLOR';\nexport const SET_INIT_STATE = 'SET_INIT_STATE'; \nexport const NEW_PROJECT = 'NEW_PROJECT';\nexport const CLEAR = 'CLEAR';\nexport const SET_CANVAS = 'SET_CANVAS';\nexport const CHANGE_NAME = 'CHANGE_NAME';\nexport const CHANGE_DIMENSIONS = 'CHANGE_DIMENSIONS';\nexport const CHANGE_DURATION = 'CHANGE_DURATION';\nexport const CHANGE_CELL_SIZE = 'CHANGE_CELL_SIZE';\nexport const IMPORT_PIXELATE = 'IMPORT_PIXELATE';\nexport const APPLY_PENCIL = `APPLY_${tool.PENCIL}`;\nexport const APPLY_ERASER = `APPLY_${tool.ERASER}`;\nexport const APPLY_PAINT_BUCKET = `APPLY_${tool.PAINT_BUCKET}`;\nexport const APPLY_EYE_DROPPER = `APPLY_${tool.EYE_DROPPER}`;\nexport const APPLY_COLOR_PICKER = `APPLY_${tool.COLOR_PICKER}`;\nexport const SWITCH_TOOL = 'SWITCH_TOOL';\nexport const SELECT_PALETTE_COLOR = 'SELECT_PALETTE_COLOR';\nexport const SELECT_CUSTOM_COLOR = 'SELECT_CUSTOM_COLOR';\nexport const ADD_NEW_FRAME = 'ADD_NEW_FRAME';\nexport const ADD_DUPLICATED_FRAME = 'ADD_DUPLICATED_FRAME';\nexport const DELETE_FRAME = 'DELETE_FRAME';\nexport const SWITCH_FRAME = 'SWITCH_FRAME';\nexport const REORDER_FRAMES = 'REORDER_FRAMES';\n\n","import * as type from './actionTypes';\nimport { ActionCreators } from 'redux-undo';\n\nexport function init() {\n    return {\n        type: type.SET_INIT_STATE\n    }\n}\n\nexport function newProject() {\n    return {\n        type: type.NEW_PROJECT\n    }\n}\n\nexport function clear() {\n    return {\n        type: type.CLEAR\n    }\n}\n\nexport function setCanvas(grids, paletteGrid, cellSize, columns, rows) {\n    return {\n        type: type.SET_CANVAS,\n        grids,\n        paletteGrid,\n        cellSize,\n        columns,\n        rows\n    }\n}\n\nexport function changeName(name) {\n    return {\n        type: type.CHANGE_NAME,\n        name\n    }\n}\n\nexport function changeDimensions(newColumns, newRows) {\n    return {\n        type: type.CHANGE_DIMENSIONS,\n        newColumns,\n        newRows\n    }\n}\n\nexport function changeDuration (duration) {\n    return {\n        type: type.CHANGE_DURATION,\n        duration\n    }\n}\n\nexport function changeCellSize (size) {\n    return {\n        type: type.CHANGE_CELL_SIZE,\n        size\n    }\n}\n\nexport function importPixelate({grids, columns, rows, options}) {\n    return {\n        type: type.IMPORT_PIXELATE,\n        grids,\n        columns,\n        rows,\n        options\n    };\n}\n\nexport function applyTools({paletteColor = '', color , id, columns, rows, drawingTool}) {\n    return {\n        type: `APPLY_${drawingTool}`,\n        paletteColor,\n        color,\n        id,\n        columns,\n        rows\n    }\n}\n\nexport function switchTool(drawingTool) {\n    return {\n        type: type.SWITCH_TOOL,\n        drawingTool\n    };\n}\n\nexport function selectPaletteColor(id) {\n    return {\n        type: type.SELECT_PALETTE_COLOR,\n        id\n    };\n}\n\nexport function applyColorPicker(color) {\n    return {\n        type: type.APPLY_COLOR_PICKER,\n        color\n    };\n}\n\nexport function addNewFrame() {\n    return {\n        type: type.ADD_NEW_FRAME,\n    }\n};\n\nexport function addDuplicatedFrame(id) {\n    return {\n        type: type.ADD_DUPLICATED_FRAME,\n        id\n    }\n};\n\nexport function deleteFrame(id) {\n    return {\n        type: type.DELETE_FRAME,\n        id\n    }\n}\n\nexport function switchFrame(id) {\n    return {\n        type: type.SWITCH_FRAME,\n        id\n    }\n}\n\nexport function reorderFrame(initIndex, finalIndex) {\n    return {\n      type: type.REORDER_FRAMES,\n      initIndex,\n      finalIndex\n    };\n}\n\nexport function undo() {\n    return ActionCreators.undo();\n};\n  \nexport function redo() {\n    return ActionCreators.redo();\n};\n  \n","const STORAGE_KEY = 'PIXEL_ART_HUB';\n\nconst saveDataToStorage = (storage, data) => {\n    try {\n      storage.setItem(STORAGE_KEY, JSON.stringify(data));\n      return true;\n    } catch (e) {\n      return false; // There was an error\n    }\n}\n  \nexport function initStorage(storage) {\n    storage.setItem(\n        STORAGE_KEY,\n        JSON.stringify({\n        stored: [],\n        current: 0\n        })\n    );\n}\n\nexport function getDataFromStorage(storage) {\n  try {\n    const data = storage.getItem(STORAGE_KEY);\n    return data ? JSON.parse(data) : false;\n  } catch (e) {\n    return false; // There was an error\n  }\n}\n\nexport function saveProjectToStorage(storage, projectData) {\n    try {\n      let dataStored = getDataFromStorage(storage);\n      if (dataStored) {\n        dataStored.stored.push(projectData);\n        dataStored.current = dataStored.stored.length - 1;\n      } else {\n        dataStored = {\n          stored: [projectData],\n          current: 0\n        };\n      }\n      storage.setItem(STORAGE_KEY, JSON.stringify(dataStored));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  export function removeProjectFromStorage(storage, indexToRemove) {\n    const dataStored = getDataFromStorage(storage);\n    if (dataStored) {\n      let newCurrent = 0;\n      dataStored.stored.splice(indexToRemove, 1);\n      if (dataStored.stored.length === 0) {\n        newCurrent = -1; // Empty collection\n      } else if (dataStored.current > indexToRemove) {\n        newCurrent = dataStored.current - 1; // Current is greater than the one to remove\n      }\n      dataStored.current = newCurrent;\n      return saveDataToStorage(storage, dataStored);\n    }\n    return false; // There was an error if it reaches this code\n  }\n  \n  /*\n    Returns the export code\n  */\n  export function generateExportString(projectData) {\n    try {\n      return JSON.stringify(projectData);\n    } catch (e) {\n      return 'Sorry, there was an error';\n    }\n  }\n  \n  /*\n    Returns project data ready from a exported data string\n  */\n  export function exportedStringToProjectData(projectData) {\n    if (projectData === '') {\n      return false;\n    }\n    try {\n      return JSON.parse(projectData);\n    } catch (e) {\n      return false;\n    }\n  }\n  ","import * as actions from '../redux/actions/action';\nimport { initStorage, getDataFromStorage } from './localStorage';\n\nconst initialSetup = (dispatch, storage) => {\n  const dataStored = getDataFromStorage(storage);\n\n  if (dataStored) {\n    // Load current project from the storage\n    if (dataStored.current > 0) {\n      const {\n        grids,\n        paletteGridData,\n        columns,\n        rows,\n        cellSize,\n        duration\n      } = dataStored.stored[dataStored.current];\n\n      dispatch(\n        actions.setCanvas(\n          grids,\n          paletteGridData,\n          cellSize,\n          columns,\n          rows,\n          duration\n        )\n      );\n    }\n  } else {\n    // If no data initialize storage\n    initStorage(storage);\n  }\n};\n\nexport default initialSetup;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { changeName } from '../redux/actions/action';\n\nconst Header = ({ changeName, name }) => {\n    \n    return (\n      <div className='header'>\n        <div className='title'>\n          <h2> PIXEL ART HUB </h2>\n        </div>\n        <div className=\"author\">\n          <h5>GITHUB: <a href=\"https://github.com/ftlll/pixel\" target=\"_blank\" rel='noopener noreferrer'>FTL</a></h5>\n        </div>\n      </div>\n    );\n};\n\nconst mapStateToProps = state => {\n    const grids = state.present.get('canvas');\n    return {\n        name: grids.get('name')\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n    changeName: () => dispatch(changeName)\n});\n  \nconst HeaderContainer = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Header);\n\nexport default HeaderContainer;","//import * as tool from '../redux/toolTypes';\n\nconst getCellActionProps = (props, id) => ({\n  color: props.grid.get(id),\n  id,\n  ...props\n});\n\nconst drawHandlerProvider = canvas => {\n    const drawHandlers = (grid) => {\n        return {\n            onMouseDown(id, ev) {\n                ev.preventDefault();\n                const { props } = grid;\n                const actionProps = getCellActionProps(props, id);\n                props.applyTools(actionProps);\n                canvas.setState({\n                    pressed: true\n                });\n            },\n            onMouseOver(id, ev) {\n                ev.preventDefault();\n                const { props } = grid;\n                const actionProps = getCellActionProps(props, id);\n                if (canvas.state.pressed) {\n                    props.applyTools(actionProps);\n                }\n            },\n        }\n    };\n    return {\n        onMouseUp() {\n            canvas.setState({\n                pressed: false\n            });\n        },\n        drawHandlers\n    }\n} \n\nexport default drawHandlerProvider;","import React from 'react';\n\nconst CELL_NULL_COLOR = 'rgba(49, 49, 49, 0.4)';\n\nclass Cell extends React.Component {\n    shouldComponentUpdate(nextProps) {\n        const {cell: {color, width}} = this.props;\n        const updated = (nextProps.color !== color) || (nextProps.width !== width);\n        return updated;\n    }\n\n    render() {\n        const {\n            cell: {color, width},\n            id,\n            drawHandler\n            } = this.props;\n        const style = {\n            width: `${width}%`,\n            paddingBottom: `${width}%`,\n            backgroundColor:  color || CELL_NULL_COLOR\n        };\n\n        return (\n            <div\n              style={style} className='cell'\n              onMouseDown={(ev) => drawHandler.onMouseDown(id, ev)}\n              onMouseOver={ev => drawHandler.onMouseOver(id, ev)}\n              onFocus={ev => drawHandler.onMouseOver(id, ev)}\n              onTouchStart={ev => drawHandler.onMouseDown(id, ev)}\n            />\n        );\n    }\n}\n\nexport default Cell;\n","import React from 'react';\nimport Cell from './Cell';\n\nclass Grid extends React.Component {\n    shouldComponentUpdate(newProps) {\n        const { cells } = this.props;\n        return newProps.cells !== cells;\n    }\n    \n    render() {\n        const { style, cells } = this.props;\n\n        return (\n            <div style={style}>\n                {cells.map((cell, i) => {\n                    return (\n                        <Cell cell={cell}\n                          key={cell.id}\n                          id={i}\n                          drawHandler={this.props.drawHandler}\n                        />\n                    )\n                })}\n            </div>\n        );\n    }\n}\n\nexport default Grid;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { applyTools } from '../redux/actions/action';\nimport drawHandlerProvider from '../utils/drawHandler';\nimport Grid from './Grid';\n\nclass Canvas extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {pressed: false};\n        this.drawHandlerProvider = drawHandlerProvider(this);\n    }\n\n    shouldComponentUpdate(newProps) {\n        const { grid } = this.props;\n        return newProps.grid !== grid;\n    }\n    \n    render() {\n        const { props } = this;\n        const cells = props.grid.map((color, i) => ({\n            id: i,\n            width: 100 / props.columns,\n            color\n        }));\n        \n        return (\n            <div onMouseUp={this.drawHandlerProvider.onMouseUp}\n                onTouchEnd={this.drawHandlerProvider.onMouseUp}\n                onTouchCancel={this.drawHandlerProvider.onMouseUp}\n                className='canvas'>\n                <Grid cells={cells}\n                    drawingTool={props.drawingTool}\n                    drawHandler={this.drawHandlerProvider.drawHandlers(this)}\n                />\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    const canvas = state.present.get('canvas');\n    const drawingTool = state.present.get('drawingTool');\n    const palette = state.present.get('palette');\n    const activeIndex = palette.get('active');\n    const paletteColor = palette.getIn(['grid', activeIndex === -1 ? 0: activeIndex, 'color']);\n    return {\n        grid: canvas.get('grids').get(canvas.get('active')),\n        paletteColor,\n        drawingTool,\n        columns: canvas.get('columns'),\n        rows: canvas.get('rows')\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n    applyTools: cellProps => dispatch(applyTools(cellProps))\n});\n\nconst CanvasContainer = connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(Canvas);\n\nexport default CanvasContainer;\n","import React from 'react'\nimport Picker from 'react-color'\nimport { connect } from 'react-redux';\nimport { applyColorPicker, switchTool } from '../redux/actions/action'; \nimport * as tool from '../redux/toolTypes';\n\nclass ColorPicker extends React.Component {\n  state = {\n    visible: false,\n  };\n\n  handleClick = () => {\n    this.setState({ visible: !this.state.visible })\n  };\n\n  handleClose = () => {\n    this.setState({ visible: false })\n  };\n\n  render() {\n    const { color, applyColorPicker, applyPencil } = this.props;\n    this.applyColorPicker = (color) => {\n      color = color.rgb;\n      let colorString = 'rgba(' + color.r + ',' + color.g + ',' + color.b + ',' + color.a + ')';\n      applyColorPicker(colorString);\n      applyPencil();\n    };\n\n    const styles = {\n      picker: {\n        position: 'relative',\n        bottom: '5em',\n        left: '-250px'\n      },\n      popover: {\n        position: 'absolute',\n        zIndex: '2',\n        right: -250,\n        top: 155\n      },\n      cover: {\n        position: 'fixed',\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n      }\n    };\n\n    return (\n      <div className={`color-picker ${this.state.visible ? 'active': ''}`}>\n        <i className='fas fa-paint-brush' onClick={ this.handleClick } />\n          <div style={styles.picker}>\n              { this.state.visible ? \n                  <div style={styles.popover}>\n                    <div\n                      style={styles.cover}\n                      onClick={this.handleClose}\n                    />\n                    <Picker color={ color } onChange={this.applyColorPicker} onClose={this.handleClose} type=\"sketch\"/>\n                </div>\n         : null }\n          </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  const palette = state.present.get('palette').toObject();\n  const grid = palette.grid;\n  const active = palette.active;\n  return {\n      color: (active === -1) ? 'rgba(49,49,49,1)' : grid.getIn([active, 'color']),\n      // usingColorPicker: state.present.get('drawingTool') === tool.COLOR_PICKER\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  applyColorPicker: (color) => dispatch(applyColorPicker(color)),\n  applyPencil: () => dispatch(switchTool(tool.PENCIL))\n});\n\nconst ColorPickerContainer = connect(mapStateToProps, mapDispatchToProps)(ColorPicker);\n\nexport default ColorPickerContainer;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport * as tool from '../redux/toolTypes';\nimport { switchTool } from '../redux/actions/action';\n\nconst Pencil = ({ usingPencil, switchPencil}) => {\n    return (\n        <div className={`pencil ${usingPencil ? 'active': ''}`}>\n            <i aria-label=\"Pencil Tool\"\n            onClick={switchPencil}\n            className='fas fa-pencil-alt' />\n        </div>\n    );\n};\n\nconst mapStateToProps = state => ({\n    usingPencil: state.present.get('drawingTool') === tool.PENCIL\n});\n  \nconst mapDispatchToProps = dispatch => ({\n    switchPencil: () => dispatch(switchTool(tool.PENCIL))\n});\n\nconst PencilContainer = connect(mapStateToProps, mapDispatchToProps)(Pencil);\n\nexport default PencilContainer;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport * as tool from '../redux/toolTypes';\nimport { switchTool } from '../redux/actions/action';\n\nconst Eraser = ({ usingEraser, switchEraser}) => {\n    return (\n        <div className={`eraser ${usingEraser ? 'active': ''}`}>\n            <i aria-label=\"Eraser Tool\"\n            onClick={switchEraser}\n            className='fas fa-eraser' />\n        </div>\n    );\n};\n\nconst mapStateToProps = state => ({\n    usingEraser: state.present.get('drawingTool') === tool.ERASER\n});\n  \nconst mapDispatchToProps = dispatch => ({\n    switchEraser: () => dispatch(switchTool(tool.ERASER))\n});\n\nconst EraserContainer = connect(mapStateToProps, mapDispatchToProps)(Eraser);\n\nexport default EraserContainer;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport * as tool from '../redux/toolTypes';\nimport { switchTool } from '../redux/actions/action';\n\nconst EyeDropper = ({ usingEyeDropper, switchEyeDropper}) => {\n    return (\n        <div className={`eye-dropper ${usingEyeDropper ? 'active': ''}`}>\n            <i aria-label=\"EyeDropper Tool\"\n            onClick={switchEyeDropper}\n            className=\"eyeDropper fas fa-eye-dropper\" />\n        </div>\n    );\n};\n\nconst mapStateToProps = state => ({\n    usingEyeDropper: state.present.get('drawingTool') === tool.EYE_DROPPER\n});\n  \nconst mapDispatchToProps = dispatch => ({\n    switchEyeDropper: () => dispatch(switchTool(tool.EYE_DROPPER))\n});\n\nconst EyeDropperContainer = connect(mapStateToProps, mapDispatchToProps)(EyeDropper);\n\nexport default EyeDropperContainer;\n","import React from 'react';\n\nconst CELL_NULL_COLOR = 'rgba(49, 49, 49, 0.5)';\n\nconst PlatteCell = props => {\n    const { width, color, active, selectPaletteColor, id } = props;\n\n    const handleClick = () => selectPaletteColor(id);\n\n    const style = {\n        width: `${width}%`,\n        height: '30px',\n        backgroundColor:  color || CELL_NULL_COLOR\n    };\n\n    return (\n        <button style={style} onClick={handleClick} \n            className={`palette-cell ${active ? 'active' : ''}`}/>\n    );\n};\n\nexport default PlatteCell;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { selectPaletteColor } from '../redux/actions/action';\nimport PaletteCell from './PaletteCell';\n\nclass PaletteGrid extends React.Component { \n\n    render() {\n        const { grid, active, selectPaletteColor } = this.props;\n        const width = 100 / 8;\n        return (\n            <div className='palette-grid'>\n                {grid.map((cell, i) => {\n                    return (\n                        <PaletteCell color={cell.get('color')}\n                          active={active === i}\n                          width={width}\n                          key={cell.get('id')}\n                          id={i}\n                          selectPaletteColor={selectPaletteColor}\n                        />\n                    )\n                })}\n            </div>\n        );\n    };\n}\n\nconst mapStateToProps = state => {\n    const palette = state.present.get('palette').toObject();\n    return {\n        grid: palette.grid,\n        active: palette.active\n    };\n};\n\nconst mapDispatchToProps = dispatch =>   \n  bindActionCreators(\n    {\n      selectPaletteColor\n    },\n    dispatch\n);\n\nconst PaletteGridContainer = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(PaletteGrid);\n\nexport default PaletteGridContainer;","import React from 'react';\nimport { connect } from 'react-redux';\nimport * as tool from '../redux/toolTypes';\nimport { switchTool } from '../redux/actions/action';\n\nconst PaintBucket = ({ usingPaintBucket, switchPaintBucket}) => {\n    return (\n        <div className={`bucket ${usingPaintBucket ? 'active': ''}`}>\n            <i aria-label=\"Paint Bucket Tool\"\n            className='fas fa-fill-drip'\n            onClick={switchPaintBucket}/>\n        </div>\n    );\n};\n\nconst mapStateToProps = state => ({\n    usingPaintBucket: state.present.get('drawingTool') === tool.PAINT_BUCKET\n});\n  \nconst mapDispatchToProps = dispatch => ({\n    switchPaintBucket: () => dispatch(switchTool(tool.PAINT_BUCKET))\n});\n\nconst PaintBucketContainer = connect(mapStateToProps, mapDispatchToProps)(PaintBucket);\n\nexport default PaintBucketContainer;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as actions from '../redux/actions/action';\n\nconst UndoRedo = props => {\n  const undo = () => {\n    props.actions.undo();\n  };\n\n  const redo = () => {\n    props.actions.redo();\n  };\n\n  return (\n    <div className=\"undo-redo\">\n      <div className='undo-container'>\n        <button className='undo fas fa-undo-alt'\n          onClick={() => {undo()}} />\n      </div>\n      <div className='redo-container'>\n        <button className='redo fas fa-redo-alt'\n          onClick={() => {redo()}} />\n      </div>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = dispatch => ({\n  actions: bindActionCreators(actions, dispatch)\n});\n\nconst UndoRedoContainer = connect(\n  null,\n  mapDispatchToProps\n)(UndoRedo);\nexport default UndoRedoContainer;","import React from 'react';\nimport radium from 'radium';\n\nconst Animation = radium(props => {\n  const pulseKeyframes = radium.keyframes(props.boxShadow, 'pulse');\n  const style = {\n    position: 'absolute',\n    animation: `x ${props.duration}s infinite`,\n    animationName: pulseKeyframes,\n    left: '-5px',\n    top: '-5px'\n  };\n  return <div style={style} />;\n});\n\nexport default Animation;\n","import React from 'react';\nimport { StyleRoot } from 'radium';\nimport {\n  generatePixelDrawCss,\n  generateAnimationCSSData\n} from '../utils/generateCSS';\nimport Animation from './Animation';\n\nconst Preview = props => {\n    const generatePreview = () => {\n        const { duration, storedData, active } = props;\n        const { grids, columns, cellSize, animate } =  storedData || props;\n        const animation = grids.size > 1 && animate;\n\n        let animationData;\n        let cssString;\n    \n        const styles = {\n          previewWrapper: {\n            height: cellSize,\n            width: cellSize\n          }\n        };\n\n        if (animate) {\n          animationData = generateAnimationCSSData(\n            grids,\n            columns,\n            cellSize\n          )\n        } else {\n          cssString = generatePixelDrawCss(\n            grids.get(active),\n            columns,\n            cellSize,\n            'string'\n          );\n        }\n\n          styles.previewWrapper.boxShadow = cssString;\n          styles.previewWrapper.MozBoxShadow = cssString;\n          styles.previewWrapper.WebkitBoxShadow = cssString;\n    \n        return (\n          <div style={animation ? null : styles.previewWrapper}>\n            {animation ? (\n            <StyleRoot>\n              <Animation duration={duration} boxShadow={animationData} />\n            </StyleRoot>\n            ) : null}\n          </div>\n        );\n      };\n    \n      const { storedData } = props;\n      const { columns, rows, cellSize } = storedData || props;\n      const style = {\n        width: columns * cellSize,\n        height: rows * cellSize,\n        position: 'relative'\n      };\n    \n      return (\n        <div className=\"preview\" style={style}>\n          {generatePreview()}\n        </div>\n      );\n}\n\nexport default Preview;\n\n","import {\n    getImageData,\n    getImageCssClassOutput,\n    getAnimationKeyframes,\n    getAnimationCssClassOutput\n} from 'box-shadow-pixels';\nimport { List, Map } from 'immutable';\n  \nconst PIXELART_CSS_CLASS_NAME = 'pixel-art-hub';\n\nexport function generatePixelDrawCss(frame, columns, cellSize, type) {\n    return getImageData(frame, {\n        format: type,\n        pSize: cellSize,\n        c: columns\n    });\n}\n  \nexport function getCssImageClassOutput(frame, columns, cellSize) {\n    return getImageCssClassOutput(frame, {\n        format: 'string',\n        pSize: cellSize,\n        c: columns,\n        cssClassName: PIXELART_CSS_CLASS_NAME\n    });\n}\n  \nexport function exportAnimationData(frames, columns, cellSize, duration) {\n    return getAnimationCssClassOutput(frames, {\n        pSize: cellSize,\n        c: columns,\n        duration,\n        cssClassName: PIXELART_CSS_CLASS_NAME\n    });\n}\n  \nexport function generateAnimationCSSData(frames, columns, cellSize) {\n    let newFrames = List();\n    let size = frames.size;\n\n    const equalPercentage = 100 / size;\n    frames.forEach((frame, index) => {\n        let interval = (index === size - 1)\n          ? 100\n          : Math.round((index + 1) * equalPercentage * 10) / 10;\n\n        let newFrame = Map({\n            grid: frame,\n            interval\n        });\n        newFrames = newFrames.push(newFrame);\n    })\n    return getAnimationKeyframes(newFrames, {\n        pSize: cellSize,\n        c: columns\n    });\n}","import React from 'react';\nimport { connect } from 'react-redux';\n// import Dropzone from 'react-dropzone'\nimport { importPixelate } from '../redux/actions/action';\n\nclass Upload extends React.Component {\n    state = {};\n\n    fileUpload = () => {\n        this.props.fileUpload(this.state)\n    }\n\n    fileProcess = (file, rejectedFiles) => {\n        this.setState({\n            file\n        });\n    }\n\n    render() {\n        return (\n            <div className='upload'>\n                {/* <div>Drop</div>\n                <Dropzone onDrop={this.fileProcess} style={style}>\n                {({ getRootProps, getInputProps }) => (\n                    <div\n                        {...getRootProps()}\n                    >\n                        <input {...getInputProps()} />\n                    </div>\n                    )}\n                </Dropzone> */}\n                <input type=\"file\" onChange={this.fileProcess}></input>\n                <button className='upload-button' onClick={this.fileUpload}>Upload</button>\n            </div>\n        );\n    }\n\n}\n\nconst mapDispatchToProps = dispatch => ({\n    fileUpload: (state) => {\n        const data = new FormData();\n        if(state.file) {\n            data.append('file', state.file);\n            fetch('./api/pixelate', {\n                headers: {\n                    'Access-Control-Allow-Origin': true,\n                },\n                method: 'POST',\n                body: data,\n            }).then(res => {\n                return res.json();\n            }).then(data => {\n                dispatch(importPixelate(data))\n            })\n        } else {\n            alert(\"no file attached\");\n        }\n    }\n});\n\nconst UploadContainer = connect(null, mapDispatchToProps)(Upload);\n\nexport default UploadContainer;\n","import React from 'react';\nimport { fromJS } from 'immutable';\nimport { NotificationManager } from 'react-notifications';\nimport Preview from './Preview';\nimport {\n  getDataFromStorage,\n  removeProjectFromStorage,\n  exportedStringToProjectData\n} from '../utils/localStorage';\n\nconst browserStorage =\n  typeof localStorage === 'undefined' ? null : localStorage;\n\nexport default class LoadData extends React.Component {\n  importProject() {\n    const importedProject = exportedStringToProjectData(\n      this.importProjectData.value\n    );\n    const { actions, close } = this.props;\n\n    if (importedProject) {\n      const {\n        grids,\n        paletteGridData,\n        columns,\n        rows,\n        cellSize\n      } = importedProject;\n\n      actions.setCanvas(grids, paletteGridData, cellSize, columns, rows);\n      close();\n      NotificationManager.success('Project successfully imported');\n    } else {\n      NotificationManager.error('Sorry, there is some error importing project');\n    }\n  }\n\n  removeFromStorage(key, e) {\n    const { close } = this.props;\n    e.stopPropagation();\n    if (browserStorage) {\n      const removed = removeProjectFromStorage(browserStorage, key);\n      if (removed) {\n        NotificationManager.success('Drawing deleted');\n        close();\n        // open();\n      }\n    }\n  }\n\n  drawingClick(data) {\n    const { actions, close } = this.props;\n    actions.setCanvas(\n      data.grids,\n      data.paletteGridData,\n      data.cellSize,\n      data.columns,\n      data.rows\n    );\n    close();\n    NotificationManager.success('Project successfully imported');\n  }\n\n  getDrawing() {\n    if (browserStorage) {\n      const dataStored = getDataFromStorage(browserStorage);\n      if (dataStored) {\n        if (dataStored.stored.length > 0) {\n          return dataStored.stored.map((data, i) => {\n            const elem = {\n              animate: data.grids.length > 1,\n              cellSize: 5, // Unify cellsize for load preview\n              columns: data.columns,\n              grids: fromJS(data.grids),\n              paletteGridData: fromJS(data.paletteGridData),\n              rows: data.rows,\n              id: i\n            };\n\n            return (\n              <div\n                key={elem.id}\n                onClick={() => {\n                  this.drawingClick(elem);\n                }}\n                onKeyPress={() => {\n                  this.drawingClick(elem);\n                }}\n                className=\"local-data-preview\"\n                tabIndex={0}>\n                <Preview\n                  key={elem.id}\n                  storedData={elem}\n                  active={0}\n                  duration={1}\n                />\n                <div className=\"local-data-delete\"\n                  onClick={event => {\n                    this.removeFromStorage(elem.id, event);\n                  }}>\n                    <i className='fas fa-trash-alt' />\n                  </div>\n              </div>\n            );\n          });\n        }\n      }\n    }\n    return [];\n  }\n\n  getOptions(type) {\n        const drawings = this.getDrawing();\n        \n        const drawingsStored = drawings.length > 0;\n        return (\n          <div className=\"load-drawing\">\n            <h3>Select one of your saved drawings</h3>\n            <div\n              className={`load-drawing__container\n                ${!drawingsStored ? 'empty' : ''}`}\n            >\n              {drawingsStored\n                ? this.getDrawing()\n                : 'Nothing saved yet...'}\n            </div>\n          </div>\n        );\n  }\n\n  render() {\n    const { loadType } = this.props;\n    return this.getOptions(loadType);\n  }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport FileSaver from 'file-saver';\n\nconst Download = props => {\n    const { canvas, type } = props;\n    const downloadIMG = () => {\n        fetch('./api/img', {\n            headers: {\n                'Access-Control-Allow-Origin': true,\n                'Content-Type': 'application/json',\n            },\n            method: 'POST',\n            body: JSON.stringify({\n                type,\n                grids: canvas.get('grids'),\n                columns: canvas.get('columns'),\n                rows: canvas.get('rows'),\n                size: canvas.get('size'),\n                active: canvas.get('active'),\n            }),\n        }).then(res => {\n            return res.blob();\n        })\n        .then(blob => {\n            if (type === 'gif') {\n                FileSaver.saveAs(blob, 'pixel.gif');\n            } else if (type === 'png'){\n                FileSaver.saveAs(blob, 'pixel.png');\n            }\n            \n        })\n    }\n\n    return (\n        <button className='download' onClick={downloadIMG}>DOWNLOAD</button>\n    );\n};\n\nconst mapStateToProps = state => {\n    const canvas = state.present.get('canvas');\n    return {\n        canvas\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  \n});\n\nconst DownloadContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Download);\nexport default DownloadContainer;","import React from 'react';\nimport {\n    exportAnimationData,\n    getCssImageClassOutput\n} from '../utils/generateCSS';\n\nconst DisplayCSS = props => {\n    const { grids,\n        columns,\n        size,\n        active,\n        animate,\n        duration } = props;\n\n    const generateCSS = () => {\n        if (animate) {\n            const cssAnimationString = exportAnimationData(\n                grids,\n                columns,\n                size,\n                duration\n            );\n            return cssAnimationString;\n        } else {\n            return getCssImageClassOutput(\n                grids.get(active),\n                columns,\n                size\n              );\n        }\n    }\n\n    return (\n        <div className=\"display-css\">\n        {animate ? (\n            <h4>\n            Paste the following code anywhere in the CSS code and assign\n            <b> .pixel-animation </b>\n            class to a HTML element\n            </h4>\n        ) : (\n            <h4>\n            Paste the following code anywhere in the CSS code and assign\n            <b> .pixelart-to-css </b>\n            class to a HTML element\n            </h4>\n        )}\n        <textarea className='css-textarea' readOnly={true} value={generateCSS()}></textarea>\n        </div>\n    );\n};\n\nexport default DisplayCSS;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport Modal from 'react-awesome-modal';\nimport Select from 'react-dropdown-select';\nimport Preview from './Preview';\nimport Upload from './Upload';\nimport LocalData from './LocalData';\nimport Download from './Download';\nimport DisplayCSS from './DisplayCSS';\nimport * as actions from '../redux/actions/action';\n\nclass Popup extends React.Component {\n    constructor (props) {\n        super(props);\n        this.state = {\n            type: []\n        };\n        this.closeModal = () => {\n            props.close();\n        };\n        this.openModal = () => {\n            this.props.visible = true\n        };\n    }\n\n    changeType = (value) => {\n        this.setState({type: value[0].value});\n    }\n\n    getImportContent = (importType) => {\n        const { actions } = this.props;\n        switch(importType) {\n            case 'upload image':\n                return <Upload />;\n            case 'local data':\n                return (<LocalData actions={actions} close={this.closeModal} open={this.openModal}\n                   />);\n            default:\n                return (<LocalData actions={actions} close={this.closeModal} open={this.openModal}\n                    />);\n        }\n    }\n\n    getExportContent = (exportType) => {\n        let content, gifPreview;\n        const { grids, columns, rows, cellSize, duration, active } = this.props;\n        const style = {textAlign: 'center'};\n        switch(exportType) {\n            case 'download files':\n                gifPreview = (\n                    <div className='preview-animation'>\n                        <div style={style}>Animation</div>\n                        <Preview\n                            key=\"0\"\n                            grids={grids}\n                            columns={columns}\n                            rows={rows}\n                            cellSize={10}\n                            duration={5}\n                            active={active}\n                            animate={true}\n                        />\n                        <Download type={'gif'}/>\n                    </div>\n                );\n                content = (\n                    <div className='preview-content'>\n                        <div className={`preview-frame ${grids.size > 1 ? '' : 'only'}`}>\n                            <div style={style}>Current Frame</div>\n                            <Preview\n                                key=\"0\"\n                                grids={grids}\n                                columns={columns}\n                                rows={rows}\n                                cellSize={10}\n                                duration={5}\n                                active={active}\n                                animate={false}\n                            />\n                            <Download className='download-button' type={'png'}/>\n                        </div>\n                        {grids.size > 1 ? gifPreview : ''}\n                    </div>\n                );\n                return content;\n            case 'get css data (current frame)':\n                return (\n                    <DisplayCSS \n                        grids={grids}\n                        columns={columns}\n                        rows={rows}\n                        size={cellSize}\n                        duration={duration}\n                        active={active}\n                        animate={false}\n                    />\n                );\n            case 'get css data (animation)':\n                return (\n                    <DisplayCSS \n                    grids={grids}\n                    columns={columns}\n                    rows={rows}\n                    size={cellSize}\n                    duration={duration}\n                    active={active}\n                    animate={true}\n                />\n                );\n            default: \n                gifPreview = (\n                    <div className='preview-animation'>\n                        <div style={style}>Animation</div>\n                        <Preview\n                            key=\"0\"\n                            grids={grids}\n                            columns={columns}\n                            rows={rows}\n                            cellSize={cellSize}\n                            duration={duration}\n                            active={active}\n                            animate={true}\n                        />\n                        <Download type={'gif'}/>\n                    </div>\n                );\n                content = (\n                    <div className='preview-content'>\n                        <div className={`preview-frame ${grids.size > 1 ? '' : 'only'}`}>\n                            <div style={style}>Current Frame</div>\n                            <Preview\n                                key=\"0\"\n                                grids={grids}\n                                columns={columns}\n                                rows={rows}\n                                cellSize={cellSize}\n                                duration={duration}\n                                active={active}\n                                animate={false}\n                            />\n                            <Download className='download-button' type={'png'}/>\n                        </div>\n                        {grids.size > 1 ? gifPreview : ''}\n                    </div>\n                );\n                return content;\n        }\n    }\n\n    getPreviewContent = () => {\n        const { grids, columns, rows, duration, active } = this.props;\n        const style = {textAlign: 'center'};\n        let gifPreview = (\n            <div className='preview-animation'>\n                <div style={style}>Animation</div>\n                <Preview\n                    key=\"0\"\n                    grids={grids}\n                    columns={columns}\n                    rows={rows}\n                    cellSize={10}\n                    duration={duration}\n                    active={active}\n                    animate={true}\n                />\n            </div>\n        );\n        let content = (\n            <div className='preview-content'>\n                <div className={`preview-frame ${grids.size > 1 ? '' : 'only'}`}>\n                    <div style={style}>Current Frame</div>\n                    <Preview\n                        key=\"0\"\n                        grids={grids}\n                        columns={columns}\n                        rows={rows}\n                        cellSize={10}\n                        active={active}\n                        animate={false}\n                    />\n                </div>\n                {grids.size > 1 ? gifPreview : ''}\n            </div>\n        );\n        return content;\n    }\n\n    getModalContent = (popUpType) => {\n        let content, options;\n        switch (popUpType) {\n            case 'import':\n                options = [{\n                    value: 'local data',\n                }, { value: 'upload image' }]\n                content = (\n                    <div className='popup'>\n                        <button className='popup-close' onClick={() => this.props.close()}>x</button>\n                        <div className='popup-header'>Import</div>\n                        <div className='dropdown-select'>\n                            <Select options={options} values={[{value: 'local data'}]}\n                                onChange={this.changeType}\n                                labelField='value' searchable={false}/>\n                        </div>\n                        {this.getImportContent(this.state.type)}\n                    </div>);\n                break;\n            case 'export':\n                options = [{\n                    value: 'download files',\n                }, { \n                    value: 'get css data (current frame)'\n                }, { value: 'get css data (animation)' } ]\n                content = (\n                    <div className='popup'>\n                        <button className='popup-close' onClick={() => this.props.close()}>x</button>\n                        <div className='popup-header'>Export</div>\n                        <div className='dropdown-select'>\n                            <Select options={options} values={[{value: 'download images'}]}\n                                onChange={this.changeType}\n                                labelField='value' searchable={false}/>\n                        </div>\n                        {this.getExportContent(this.state.type)}\n                    </div>\n                );\n                break;\n            case 'preview':\n                content = (\n                    <div className='popup'>\n                        <button className='popup-close' onClick={() => this.props.close()}>x</button>\n                        <div className='popup-header'>Preivew</div>\n                        {this.getPreviewContent()}\n                    </div>\n                );\n                break;\n            default:\n        }\n        return content;\n    }\n\n    render() {\n        const { visible, popUpType } = this.props;\n        return (\n            <Modal visible={visible}\n                width=\"80%\"\n                height=\"80%\"\n                effect=\"fadeInUp\"\n                onClickAway={() => this.props.close()}>\n                {this.getModalContent(popUpType)}\n            </Modal>\n        );\n    }\n}\n  \nconst mapStateToProps = state => {\n    const canvas = state.present.get('canvas');\n    const active = canvas.get('active');\n    return {\n      grids: canvas.get('grids'),\n      active,\n      activeGrid: canvas.getIn(['grids', active]),\n      paletteGridData: state.present.getIn(['palette', 'grid']),\n      columns: canvas.get('columns'),\n      rows: canvas.get('rows'),\n      cellSize: state.present.get('size'),\n      duration: state.present.get('duration')\n    };\n  };\n\nconst mapDispatchToProps = dispatch => ({\n    actions: bindActionCreators(actions, dispatch)\n});\n\nconst PopupContainer = connect(mapStateToProps, mapDispatchToProps)(Popup);\n\nexport default PopupContainer;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { newProject } from '../redux/actions/action';\n\nconst NewProject = ({ newProject }) => {\n    return (\n        <button\n            type=\"button\"\n            className='newProject'\n            onClick={newProject}>\n            NEW PROJECT\n        </button>\n    );\n};\n\nconst mapDispatchToProps = dispatch => ({\n    newProject: () => dispatch(newProject())\n});\n  \nconst NewProjectContainer = connect(\n    null,\n    mapDispatchToProps\n)(NewProject);\n\nexport default NewProjectContainer;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { clear } from '../redux/actions/action';\n\nconst Clear = ({ clear }) => {\n    return (\n        <button\n            type=\"button\"\n            className='clear'\n            onClick={clear}>\n            CLEAR\n        </button>\n    );\n};\n\nconst mapDispatchToProps = dispatch => ({\n    clear: () => dispatch(clear())\n});\n  \nconst ClearContainer = connect(\n    null,\n    mapDispatchToProps\n)(Clear);\n\nexport default ClearContainer;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { saveProjectToStorage } from '../utils/localStorage';\nimport { NotificationManager } from 'react-notifications';\n\nconst Save = props => {\n    const save = () => {\n        const drawingToSave = {\n            grids: props.grids,\n            paletteGridData: props.paletteGridData,\n            cellSize: props.cellSize,\n            columns: props.columns,\n            rows: props.rows,\n            animate: props.grids.size > 1,\n        };\n        saveProjectToStorage(localStorage, drawingToSave);\n        NotificationManager.success('Saved to local storage successfully!');\n    }\n    return (\n        <button className='save'\n            type=\"button\"\n            onClick={save}>\n            SAVE\n        </button>\n    );\n};\n\nconst mapStateToProps = state => {\n    const canvas = state.present.get('canvas');\n    return {\n      grids: canvas.get('grids'),\n      columns: canvas.get('columns'),\n      rows: canvas.get('rows'),\n      cellSize: state.present.get('cellSize'),\n      paletteGridData: state.present.getIn(['palette', 'grid'])\n    };\n  };\n\nconst mapDispatchToProps = dispatch => ({\n    \n});\n  \nconst SaveContainer = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Save);\n\nexport default SaveContainer;","import React from 'react';\nimport { List } from 'immutable';\nimport { Draggable } from 'react-beautiful-dnd';\nimport Preview from './Preview';\n\nclass Frame extends React.Component {\n    render() {\n        const {grid, columns, rows, actions, id, active} = this.props;\n        const switchFrame = () => {\n            actions.switchFrame(id);\n        };\n    \n        const addDuplicate = () => {\n            actions.addDuplicatedFrame(id);\n        }\n    \n        const deleteFrame = () => {\n            actions.deleteFrame(id);\n        }\n        return (\n            <Draggable key={id} draggableId={id.toString()} index={id}>\n                {provided => (\n                    <div onClick={switchFrame}\n                    {...provided.draggableProps}\n                    {...provided.dragHandleProps}\n                    ref={provided.innerRef}\n                    className={`frame ${active === id ? 'active': ''}`}>\n                        <Preview\n                            key={id}\n                            grids={List([grid])}\n                            columns={columns}\n                            rows={rows}\n                            cellSize={4}\n                            active={0}\n                        />\n                        <div className=\"frame-tools\">\n                            <i onClick={addDuplicate} className='frame-add-icon fas fa-copy' />\n                            <i className='frame-add-icon2 fas fa-copy' />\n                            <i onClick={deleteFrame} className='frame-delete-icon fas fa-trash-alt' />\n                        </div>\n                        {/* <div className='frame-id'>{id}</div> */}\n                    </div>\n                )}\n            </Draggable>\n        );\n    }\n};\n\nexport default Frame;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Droppable, DragDropContext } from 'react-beautiful-dnd';\nimport * as actions from '../redux/actions/action';\nimport Frame from './Frame';\n\nclass FrameList extends React.Component {\n    onDragEnd = result => {\n      const { destination, source } = result;\n      const { actions } = this.props;\n\n      if (!destination) {\n        return;\n      }\n\n      if (\n        destination.droppableId === source.droppableId &&\n        destination.index === source.index\n      ) {\n        return;\n      }\n\n      actions.reorderFrame(source.index, destination.index);\n    }\n\n    getFrames() {\n        const { grids, columns, rows, active, actions } = this.props;\n        return grids.map((grid, index) => (\n          <Frame\n            key={index}\n            id={index}\n            grid={grid}\n            columns={columns}\n            rows={rows}\n            active={active}\n            actions={{\n              switchFrame: actions.switchFrame,\n              deleteFrame: actions.deleteFrame,\n              addDuplicatedFrame: actions.addDuplicatedFrame, \n            }}\n          />\n        ));\n    }\n\n    addNewFrame = () => {\n      const { actions } = this.props;\n      actions.addNewFrame()\n    }\n\n    render() {\n      const style = {\n        display: 'flex', flexDirection: 'column', marginLeft: '10px', marginBottom: '36px'\n      };\n        return (\n          <div style={style}>\n            <button type='button' className='frames-list-add' onClick={() => this.addNewFrame()}><div>+</div></button>\n            <div className='frames-list-content'>\n              <DragDropContext onDragEnd = {this.onDragEnd} className='framesHandlerContext'>\n                <Droppable droppableId=\"droppable\" direction=\"vertical\" className='frames-handler'>\n                {provided => (\n                  <div ref={provided.innerRef}\n                  {...provided.droppableProps}>\n                  {this.getFrames()}\n                  {provided.placeholder}\n                  </div>\n                )}\n                </Droppable>\n              </DragDropContext>\n            </div>\n          </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => state.present.get('canvas').toObject();\n\nconst mapDispatchToProps = dispatch => ({\n  actions: bindActionCreators(actions, dispatch)\n});\n\nconst FrameListContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(FrameList);\nexport default FrameListContainer;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { changeDimensions } from '../redux/actions/action';\n\nconst ChangeDimension = props => {\n  const { changeDimensions, rows, columns } = props;\n  const changeHeight = (newRows) => {\n    changeDimensions(columns, newRows);\n  };\n  const changeWidth = (newColumns) => {\n    changeDimensions(newColumns,rows);\n  };\n\n  return (\n    <div className='change-dimension'>\n      <div className=\"rows\">\n        <label> ROWS\n          <input\n            type=\"number\"\n            value={rows}\n            onChange={event => {\n              changeHeight(event.target.value);\n            }}\n          />\n         </label>\n      </div>\n      <div className=\"\">\n        <label> COLUMNS\n          <input\n            type=\"number\"\n            value={columns}\n            onChange={event => {\n              changeWidth(event.target.value);\n            }}\n          />\n        </label>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => {\n    const canvas = state.present.get('canvas');\n    return {\n        columns: canvas.get('columns'),\n        rows: canvas.get('rows'),\n        duration: canvas.get('duration'),\n        size: canvas.get('size')\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  changeDimensions: (newColumns, newRows) => dispatch(changeDimensions(newColumns, newRows))\n});\n\nconst ChangeDimensionContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ChangeDimension);\nexport default ChangeDimensionContainer;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { changeDuration } from '../redux/actions/action';\n\nconst Duration = props => {\n  const { changeDuration, duration } = props;\n\n  return (\n      <div className=\"duration\">\n        <label> DURATION\n          <input\n            type=\"number\"\n            value={duration}\n            onChange={event => {\n                changeDuration(event.target.value);\n            }}\n          />\n        </label>\n      </div>\n  );\n};\n\nconst mapStateToProps = state => {\n    const canvas = state.present.get('canvas');\n    return {\n        columns: canvas.get('columns'),\n        rows: canvas.get('rows'),\n        duration: canvas.get('duration'),\n        size: canvas.get('size')\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  changeDuration: (duration) => dispatch(changeDuration(duration))\n});\n\nconst DurationContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Duration);\nexport default DurationContainer;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { changeCellSize } from '../redux/actions/action';\n\nconst CellSize = props => {\n  const { changeCellSize, size } = props;\n\n  return (\n      <div className=\"cell-size\">\n        <label> Cell Size\n          <input\n            type=\"number\"\n            value={size}\n            onChange={event => {\n                changeCellSize(event.target.value);\n            }}\n          />\n        </label>\n      </div>\n  );\n};\n\nconst mapStateToProps = state => {\n    const canvas = state.present.get('canvas');\n    return {\n        columns: canvas.get('columns'),\n        rows: canvas.get('rows'),\n        duration: canvas.get('duration'),\n        size: canvas.get('size')\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  changeCellSize: (size) => dispatch(changeCellSize(size))\n});\n\nconst CellSizeContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(CellSize);\nexport default CellSizeContainer;","import React from 'react';\nimport 'react-notifications/lib/notifications.css';\nimport {NotificationContainer} from 'react-notifications';\nimport './css/imports.css';\nimport init from './utils/startup';\nimport HeaderContainer from './components/Header';\nimport CanvasContainer from './components/Canvas';\nimport ColorPickerContainer from './components/ColorPicker';\nimport PencilContainer from './components/Pencil';\nimport EraserContainer from './components/Eraser';\nimport EyeDropperContainer from './components/EyeDropper';\nimport PaletteGridContainer from './components/PaletteGrid';\nimport PaintBucketContainer from './components/PaintBucket';\nimport UndoRedoContainer from './components/UndoRedo';\nimport PopupContainer from './components/Popup';\nimport NewProjectContainer from './components/NewProject';\nimport ClearContainer from './components/Clear';\nimport SaveContainer from './components/Save';\nimport FrameListContainer from './components/FrameList';\nimport ChangeDimensionContainer from './components/ChangeDimension';\nimport DurantionContainer from './components/Duration';\nimport CellSizeContainer from './components/CellSize';\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      popUpType: null,\n      popUpShown: false\n    };\n  }\n\n  componentDidMount() {\n    const { dispatch } = this.props;\n    init(dispatch, localStorage);\n  }\n\n  setPopUp(type) {\n    this.setState({\n      popUpShown: true,\n      popUpType: type,\n    });\n  }\n\n  closePopUp() {\n    this.setState({\n      popUpShown: false,\n      popUpType: null,\n    });\n  }\n\n  render() {\n    const { popUpShown, popUpType } = this.state;\n    return (\n      <div className='background'>\n        <NotificationContainer/>\n        <div className='app'>\n        <HeaderContainer/>\n        <div className='tool-bar'>\n            <NewProjectContainer/>\n            <ClearContainer />\n            <SaveContainer />\n            <button className='import' onClick={() => this.setPopUp('import')}>IMPORT</button>\n            <button className='import' onClick={() => this.setPopUp('export')}>EXPORT</button>\n            <button className='import' onClick={() => this.setPopUp('preview')}>PREVIEW</button>\n        </div>\n        <div className='app-content'>\n          <div className='side-bar col-lg-2'>\n            <FrameListContainer/>\n          </div>\n          <div className='canvas-container col-lg-6'>\n            <CanvasContainer/>\n          </div>\n          <div className='tools col-lg-4'>\n            <div className='col-12'>\n              <UndoRedoContainer />\n              <ChangeDimensionContainer />\n              <DurantionContainer />\n              <CellSizeContainer />\n              <div className='draw-tools'> \n                <PencilContainer />\n                <EraserContainer />\n                <PaintBucketContainer />\n                <EyeDropperContainer/>\n                <ColorPickerContainer />\n              </div>\n              <PaletteGridContainer />\n            </div>\n          </div>\n        </div>\n        <PopupContainer visible={popUpShown} popUpType={popUpType} close={() => this.closePopUp()}/>\n      </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import{ List, Map, fromJS } from 'immutable';\nimport * as type from '../actions/actionTypes';\n\nconst initCanvas = (action = {})  => {\n  const options = action.options || {};\n  const columns = parseInt(options.columns, 10) || 16;\n  const rows = parseInt(options.rows, 10) || 16;\n  const size = parseInt(options.size, 10) || 10;\n  const duration = parseInt(options.duration, 10) || 5;\n\n  let grid = List();\n  for(let i = 0; i < rows * columns; i++) {\n    grid = grid.push('');\n  }\n  let grids = List();\n  grids = grids.push(grid);\n\n  return Map({\n    name: 'name',\n    grids,\n    active: 0,\n    columns,\n    rows,\n    size,\n    duration\n  })\n}\n\nconst setCanvas = (canvas, action) => {\n  const { grids, columns, rows, cellSize, duration } = action;\n  return fromJS({\n    grids,\n    columns,\n    rows,\n    size: cellSize,\n    duration: duration || 5,\n    active: 0\n  });\n};\n\nconst importPixelate = (action) => {\n  const columns = action.columns;\n  const rows = action.rows;\n  // const options = action.options;\n  const grids = List(action.grids);\n  // const size = parseInt(action.size, 10) || 10;\n  // const duration = parseInt(action.duration, 10) || 5;\n\n  return Map({\n    grids,\n    active: 0,\n    columns,\n    rows,\n    // size,\n    // duration\n  })\n}\n\nconst changeName = (canvas, action) => {\n  return canvas.merge({\n    name: action.name\n  })\n}\n\nconst changeDimensionForOne = (grid, columns, rows, newColumns, newRows) => {\n  const dRow = newRows - rows;\n  const dCol = newColumns - columns;\n  let newGrid = grid;\n\n  if (dRow > 0) {\n    for (let i = 0; i < columns; i++) {\n      for (let j = 0; j < dRow; j++) {\n        newGrid = newGrid.push('');\n      }\n    }\n  } else if (dRow < 0) {\n    for (let i = 0; i < columns; i++) {\n      for (let j = dRow; j < 0; j++) {\n        newGrid = newGrid.splice(-1, 1);\n      }\n    }\n  } else if (dCol > 0) {\n    for (let i = columns * rows; i > 0; i -= columns) {\n      for (let j = 0; j < dCol; j++) {\n        newGrid = newGrid.insert(i, '');\n      }\n    }\n  } else if (dCol < 0) {\n    for (let i = columns * rows; i > 0; i -= columns) {\n      newGrid = newGrid.splice(i + dCol, -dCol);\n    }\n  }\n  return newGrid;\n}\n\nconst changeDimension = (canvas, action) => {\n  const columns = canvas.get('columns');\n  const rows = canvas.get('rows');\n  const { newColumns, newRows } = action;\n  let newGrids = List();\n  const grids = canvas.get('grids');\n  grids.forEach(grid => {\n    newGrids = newGrids.push(changeDimensionForOne(grid, columns, rows, newColumns, newRows))\n  });\n  \n  return canvas.merge({\n    grids: newGrids,\n    columns: newColumns,\n    rows: newRows\n  });\n};\n\nconst changeDuration = (canvas, action) => {\n  const duration = action.duration;\n  return canvas.merge({\n    duration\n  }); \n}\n\nconst changeCellSize = (canvas, action) => {\n  const size = action.size;\n  return canvas.merge({\n    size\n  }); \n}\n\nconst addNewFrame = (canvas, action) => {\n  const grids = canvas.get('grids');\n  const columns = canvas.get('columns');\n  const rows = canvas.get('rows');\n  let grid = List();\n  for(let i = 0; i < rows * columns; i++) {\n    grid = grid.push('');\n  }\n  const newGrids = grids.insert(grids.size, grid);\n  return canvas.merge({\n    grids: newGrids,\n    active: grids.size\n  }); \n};\n\nconst addDuplicatedFrame = (canvas, action) => {\n  const grids = canvas.get('grids');\n  const grid = grids.get(action.id);\n  const newGrids = grids.insert(action.id, grid);\n  return canvas.merge({\n    grids: newGrids,\n    active: action.id + 1\n  }); \n};\n\nconst deleteFrame = (canvas, action) => {\n  const grids = canvas.get('grids');\n  const newGrids = grids.remove(action.id);\n  return canvas.merge({\n    grids: newGrids,\n    active: action.id\n  }); \n};\n\nconst switchFrame = (canvas, action) => {\n  return canvas.merge({\n    active: action.id\n  }); \n}\n\nconst reorderFrame = (canvas, action) => {\n  let grids = canvas.get('grids');\n  const { initIndex, finalIndex } = action;\n  const moveForward = initIndex < finalIndex;\n  const insertPos = finalIndex + (moveForward ? 1 : 0);\n  const deletePos = initIndex + (moveForward ? 0 : 1);\n  const grid = grids.get(initIndex);\n  grids = grids.splice(insertPos, 0, grid)\n            .splice(deletePos, 1);\n\n  return canvas.merge({\n    grids,\n    active: finalIndex\n  });\n};\n\nexport default function(canvas = initCanvas(), action) {\n    switch (action.type) {\n      case type.SET_INIT_STATE:\n      case type.NEW_PROJECT:\n        return initCanvas(action);\n      case type.SET_CANVAS:\n        return setCanvas(canvas, action);\n      case type.CHANGE_NAME:\n        return changeName(canvas,action);\n      case type.CHANGE_DIMENSIONS:\n        return changeDimension(canvas, action);\n      case type.CHANGE_DURATION:\n        return changeDuration(canvas, action);\n      case type.CHANGE_CELL_SIZE:\n        return changeCellSize(canvas, action);\n      case type.IMPORT_PIXELATE:\n        return importPixelate(action);\n      case type.ADD_NEW_FRAME:\n        return addNewFrame(canvas);\n      case type.ADD_DUPLICATED_FRAME:\n        return addDuplicatedFrame(canvas, action);\n      case type.DELETE_FRAME:\n        return deleteFrame(canvas, action);\n      case type.SWITCH_FRAME:\n        return switchFrame(canvas, action);\n      case type.REORDER_FRAMES:\n        return reorderFrame(canvas, action);\n      default:\n        return canvas;\n    }\n  }","//import{List, Map} from 'immutable';\nimport * as type from '../actions/actionTypes';\nimport { List } from 'immutable';\n\nconst GRID_INIT_COLOR = 'rgba(49, 49, 49, 1)';\n\nconst clear = (canvas, action) => {\n  const active = canvas.get('active');\n  const columns = canvas.get('columns');\n  const rows = canvas.get('rows');\n  let grid = List();\n  for(let i = 0; i < rows * columns; i++) {\n    grid = grid.push('');\n  }\n  const newCanvas = canvas.setIn(['grids', active], grid);\n  return newCanvas;\n}\n\nconst drawPixel = (grid, color, id) => {\n  return grid.set(id, color);\n}\n\nconst applyPencilToGrid = (grid, {paletteColor, id}) => {\n  const newGrid = drawPixel(grid, paletteColor, id);\n  return newGrid;\n}\n\nconst applyPencil = (canvas, action) => {\n  const active = canvas.get('active');\n  const grid = canvas.get('grids').get(active);\n  const newGrid = applyPencilToGrid(grid, action);\n  const newCanvas = canvas.setIn(['grids', active], newGrid);\n  return newCanvas;\n};\n\nconst applyEraser = (canvas, action) => {\n  const active = canvas.get('active');\n  const grid = canvas.get('grids').get(active);\n  const newGrid = drawPixel(grid, '', action.id);\n  const newCanvas = canvas.setIn(['grids', active], newGrid);\n  return newCanvas;\n}\n\nconst isSameColor = (colorA, colorB) =>\n  (colorA || GRID_INIT_COLOR) === (colorB || GRID_INIT_COLOR);\n\nconst getSameColorAdjCells = (grid, color, id, columns, rows) => {\n  const sameColorAdjCells = [];\n\n  // test upper cell\n  if (id >= columns) {\n    if (isSameColor(grid.get(id - columns), color)) {\n      sameColorAdjCells.push(id - columns);\n    }\n  }\n\n  // test bottom cell\n  if (id < (columns - 1) * rows) {\n    if (isSameColor(grid.get(id + columns), color)) {\n      sameColorAdjCells.push(id + columns);\n    }\n  }\n\n  // test left cell\n  if(id % columns !== 0) {\n    if (isSameColor(grid.get(id - 1), color)) {\n      sameColorAdjCells.push(id - 1);\n    }\n  }\n  \n  //test right cell\n  if (id % columns !== (columns - 1)) {\n    if (isSameColor(grid.get(id + 1), color)) {\n      sameColorAdjCells.push(id + 1);\n    }\n  }\n  return sameColorAdjCells;\n};\n\nconst applyPaintBucketToGrid = (grid, { id, paletteColor, columns, rows }) => {\n  const originalColor = grid.get(id);\n  const cellQueue = [id];\n  let newGrid = grid;\n  let currentId;\n  let adjCells;\n\n  while (cellQueue.length > 0) {\n    currentId = cellQueue.shift();\n    newGrid = drawPixel(newGrid, paletteColor, currentId);\n    adjCells = getSameColorAdjCells(newGrid, originalColor, currentId, columns, rows);\n\n    for(let i = 0; i < adjCells.length; i++) {\n        let adjId = adjCells[i];\n        let adjColor = newGrid.get(adjId);\n        if (cellQueue.indexOf(adjId) === -1 && adjColor !== paletteColor) {\n          cellQueue.push(adjId);\n        }\n    }\n  }\n  return newGrid;\n};\n\nconst applyPaintBucket = (canvas, action) => {\n  const active = canvas.get('active');\n  const grid = canvas.get('grids').get(active);\n  const newGrid = applyPaintBucketToGrid(grid, action);\n  const newCanvas = canvas.setIn(['grids', active], newGrid);\n  return newCanvas;\n}\n\nexport default function(canvas, action) {\n    switch (action.type) {\n        case type.CLEAR:\n            return clear(canvas, action);\n        case type.APPLY_PENCIL:\n            return applyPencil(canvas, action);\n        case type.APPLY_ERASER:\n            return applyEraser(canvas, action);\n        case type.APPLY_PAINT_BUCKET:\n            return applyPaintBucket(canvas, action);\n        default:\n            return canvas;\n    }\n}","import * as type from '../actions/actionTypes';\nimport * as tool from '../toolTypes';\n\nconst switchTool = (drawingTool = tool.PENCIL, action) => {\n    if (drawingTool === action.drawingTool) {\n        return tool.PENCIL;\n    } else {\n        return action.drawingTool;\n    }\n}\n\nexport default function drawingToolReducer(drawingTool = tool.PENCIL, action) {\n    switch (action.type) {\n        case type.SET_INIT_STATE:\n            return tool.PENCIL;\n        case type.SWITCH_TOOL:\n            return switchTool(drawingTool, action);\n        case type.APPLY_EYE_DROPPER:\n            return tool.PENCIL;\n        case type.APPLY_PENCIL:\n            return tool.PENCIL;\n        case type.SELECT_PALETTE_COLOR:\n            return drawingTool;\n        default:\n            return drawingTool;\n    }\n};","import * as type from '../actions/actionTypes';\nimport * as tool from '../toolTypes';\nimport { List, Map, fromJS } from 'immutable';\n\nconst initPaletteGrid = () => {\n    return List([\n        '#000000',\n        '#ff0000',\n        '#ff3300',\n        '#ff9900',\n        '#ffff00',\n        '#99ff00',\n        '#00ff00',\n        '#00ffff',\n        '#0000ff',\n        '#6600ff',\n        '#ff00ff',\n        '#ff0066',\n        '#ffffff',\n        '',''\n    ]).map((color, i) => Map({ color, id: i}));\n};\n\nconst initPalette = () => {\n    return Map({\n        grid: initPaletteGrid(),\n        active: 0\n    });\n};\n\nconst setPalette = (palette, action) => {\n    const { paletteGrid } = action;\n    return fromJS({\n        grid: paletteGrid,\n        active: 0\n    });\n};\n\nconst selectPaletteColor = (palette, action) => {\n    return palette.set('active', action.id);\n};\n\nconst disablePaletteColor = (palette, action) => {\n    if ( action.drawingTool === tool.ERASER ) {\n        return palette.set('active', -1);\n    }\n    return palette;\n};\n\nconst searchForColor = (grid, color) => {\n    for (let i = 0; i < grid.size - 1; i++) {\n        if (grid.getIn([i, 'color']) === color) {\n            return i;\n        }\n    }\n    return -1;\n}\n\nconst applyEyeDropper = (palette, action) => {\n    const color = action.color;\n    const grid = palette.get('grid');\n    const index = searchForColor(grid, color);\n    if (index !== -1) {\n        return palette.set('active', index);\n    }\n    const location = grid.size - 1;\n    return palette.merge({\n        grid: grid.setIn([location, 'color'], color),\n        active: location\n    });\n};\n\nconst applyColorPicker = (palette, action) => {\n    const color = action.color;\n    const grid = palette.get('grid');\n    const active = palette.get('active');\n    if (active === -1) {\n        return palette.merge({\n            grid: grid.setIn([active, 'color'], color),\n            active: grid.size - 1\n        });\n    } else {\n        return palette.merge({\n            grid: grid.setIn([active, 'color'], color),\n            active: active\n        });\n    }\n};\n\nexport default function (palette = initPalette(), action) {\n    switch (action.type) {\n        case type.SET_INIT_STATE:\n        case type.NEW_PROJECT:\n            return initPalette();\n        case type.SET_CANVAS:\n            return setPalette(palette, action);\n        case type.SELECT_PALETTE_COLOR:\n            return selectPaletteColor(palette, action);\n        case type.APPLY_EYE_DROPPER:\n            return applyEyeDropper(palette, action);\n        case type.SWITCH_TOOL:\n            return disablePaletteColor(palette, action);\n        case type.APPLY_COLOR_PICKER:\n            return applyColorPicker(palette, action);\n        default:\n            return palette;\n    }     \n}","import { Map } from 'immutable';\nimport canvasReducer from './canvasReducer';\nimport selectedCanvasReducer from './selectedCanvasReducer';\nimport drawingToolReducer from './drawingToolReducer';\nimport paletteReducer from './paletteReducer';\nimport * as type from '../actions/actionTypes';\n\nfunction setInitialState(state) {\n  const cellSize = 10;\n\n  const initialState = {\n    cellSize,\n  };\n\n  return state.merge(initialState);\n}\n\nfunction generateDefaultState() {\n  return setInitialState(Map(), { type: type.SET_INIT_STATE, state: {} });\n}\n\nconst pipeReducers = reducers => (initialState, action) =>\n  reducers.reduce((state, reducer) => reducer(state, action), initialState);\n\nfunction partialReducer(state, action) {\n  switch (action.type) {\n    case type.SET_INIT_STATE:\n      return setInitialState(state);\n    default:\n      return state;\n  }\n}\n\nexport default function(state = generateDefaultState(), action) {\n  return partialReducer(state, action).merge({\n    canvas: pipeReducers([canvasReducer, selectedCanvasReducer])\n      (state.get('canvas'),\n      action),\n    drawingTool: drawingToolReducer(state.get('drawingTool'), action),\n    palette: paletteReducer(state.get('palette'), action)\n  });\n}\n","import { createStore } from \"redux\";\nimport undoable, { includeAction } from 'redux-undo';\nimport reducer from \"./reducers/reducer\";\nimport {\n    APPLY_ERASER,\n    APPLY_EYE_DROPPER,\n    APPLY_PAINT_BUCKET,\n    APPLY_PENCIL,\n    CLEAR\n} from './actions/actionTypes';\n\nconst createIncludedActions = () =>\n  includeAction([\n    APPLY_ERASER,\n    APPLY_EYE_DROPPER,\n    APPLY_PAINT_BUCKET,\n    APPLY_PENCIL,\n    CLEAR\n  ]);\n\nlet store = createStore(undoable(reducer, {\n    filter: createIncludedActions(),\n    debug: true\n    })\n);\n\n\nexport default store;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/imports.css';\nimport './index.css'\nimport App from './App';\nimport { Provider } from 'react-redux'\nimport store from './redux/store.js'\nimport * as serviceWorker from './serviceWorker';\n\n// as shown in react-redux document to make the Redux store available\nconst rootElement = document.getElementById('root')\nReactDOM.render(\n  <Provider store={store}>\n    <App dispatch={store.dispatch}/>\n  </Provider>,\n  rootElement\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}