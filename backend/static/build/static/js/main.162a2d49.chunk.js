(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{17:function(e,t,n){},24:function(e,t,n){e.exports=n(42)},29:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"init",(function(){return T})),n.d(r,"applyTools",(function(){return y})),n.d(r,"switchTool",(function(){return j})),n.d(r,"selectPaletteColor",(function(){return C})),n.d(r,"addCustomColor",(function(){return P})),n.d(r,"undo",(function(){return k})),n.d(r,"redo",(function(){return _}));var o=n(0),a=n.n(o),c=n(11),i=n.n(c),u=(n(17),n(29),n(2)),l=n(3),s=n(6),p=n(4),f=n(7),d=n(12),h=n(5),g="PENCIL",v="APPLY_".concat(g),b="APPLY_".concat("ERASER"),E="APPLY_".concat("PAINT_BUCKET"),m="APPLY_".concat("EYE_DROPPER"),O=("APPLY_".concat("COLOR_PICKER"),n(10)),w=n.n(O);function T(){return{type:"SET_INIT_STATE"}}function y(e){var t=e.paletteColor,n=void 0===t?"":t,r=e.color,o=e.id,a=e.columns,c=e.rows,i=e.drawingTool;return{type:"APPLY_".concat(i),paletteColor:n,color:r,id:o,columns:a,rows:c}}function j(e){return{type:"SWITCH_TOOL",drawingTool:e}}function C(e){return{type:"SELECT_PALETTE_COLOR",id:e}}function P(e){return{type:"ADD_CUSTOM_COLOR",color:e}}function k(){return O.ActionCreators.undo()}function _(){return O.ActionCreators.redo()}var S=n(23),A=function(e){return{onMouseDown:function(t,n){n.preventDefault();var r=e.props,o=function(e,t){return Object(S.a)({color:e.grid.get(t),id:t},e)}(r,t);r.applyTools(o)}}},I=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.cell,n=t.color,r=t.width;return e.color!==n||e.width!==r}},{key:"render",value:function(){var e=this.props,t=e.cell,n=t.color,r=t.width,o=e.id,c=e.drawHandler,i={width:"".concat(r,"%"),height:"".concat(r,"%"),backgroundColor:n||"rgba(49, 49, 49, 0.5)"};return a.a.createElement("div",{style:i,className:"cell",onMouseDown:function(e){return c.onMouseDown(o,e)}})}}]),t}(a.a.Component),U=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.cells;return e.cells!==t}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,r=t.cells;return a.a.createElement("div",{style:n},r.map((function(t,n){return a.a.createElement(I,{cell:t,key:t.id,id:n,drawHandler:e.props.drawHandler})})))}}]),t}(a.a.Component),N=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).drawHandler=A(Object(d.a)(n)),n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.grid;return e.grid!==t}},{key:"render",value:function(){var e=this.props,t=e.grid.map((function(t,n){return{id:n,width:100/e.columns,color:t}}));return a.a.createElement(U,{style:{height:400,width:400},cells:t,drawingTool:e.drawingTool,drawHandler:this.drawHandler})}}]),t}(a.a.Component),R=Object(h.b)((function(e){var t=e.present.get("canvas"),n=e.present.get("drawingTool"),r=e.present.get("palette"),o=r.get("active"),a=r.getIn(["grid",-1===o?0:o,"color"]);return{grid:t.get("grid"),paletteColor:a,drawingTool:n,columns:t.get("columns"),rows:t.get("rows")}}),(function(e){return{applyTools:function(t){return e(y(t))}}}))(N),L=Object(h.b)((function(e){return{usingEraser:"ERASER"===e.present.get("drawingTool")}}),(function(e){return{switchEraser:function(){return e(j("ERASER"))}}}))((function(e){e.usingEraser;var t=e.switchEraser;return a.a.createElement("button",{type:"button","aria-label":"Eraser Tool",onClick:t,className:"eraser"})})),D=Object(h.b)((function(e){return{usingEyeDropper:"EYE_DROPPER"===e.present.get("drawingTool")}}),(function(e){return{switchEyeDropper:function(){return e(j("EYE_DROPPER"))}}}))((function(e){e.usingEyeDropper;var t=e.switchEyeDropper;return a.a.createElement("button",{type:"button","aria-label":"EyeDropper Tool",onClick:t,className:"eraser"})})),B=n(9),H=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.width,n=e.color,r=(e.active,e.selectPaletteColor),o=e.id,c={width:"".concat(t,"%"),height:"30px",backgroundColor:n||"rgba(49, 49, 49, 0.5)"};return a.a.createElement("button",{style:c,onClick:function(){return r(o)}})}}]),t}(a.a.Component),Y=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.grid,n=e.active,r=e.selectPaletteColor;return a.a.createElement("div",null,t.map((function(e,t){return a.a.createElement(H,{color:e.get("color"),acive:n,width:100/6,key:e.get("id"),id:t,selectPaletteColor:r})})))}}]),t}(a.a.Component),W=Object(h.b)((function(e){var t=e.present.get("palette").toObject();return{grid:t.grid,active:t.active}}),(function(e){return Object(B.a)({selectPaletteColor:C},e)}))(Y),x=Object(h.b)((function(e){return{usingPaintBucket:"PAINT_BUCKET"===e.present.get("drawingTool")}}),(function(e){return{switchPaintBucket:function(){return e(j("PAINT_BUCKET"))}}}))((function(e){e.usingPaintBucket;var t=e.switchPaintBucket;return a.a.createElement("button",{type:"button","aria-label":"Paint Bucket Tool",onClick:t})})),K=Object(h.b)(null,(function(e){return{actions:Object(B.a)(r,e)}}))((function(e){return a.a.createElement("div",{className:"undo-redo"},a.a.createElement("button",{type:"button",onClick:function(){e.actions.undo()}},a.a.createElement("span",{className:"undo-redo__icon--undo"})),a.a.createElement("button",{type:"button",onClick:function(){e.actions.redo()}},a.a.createElement("span",{className:"undo-redo__icon--redo"})))})),M=n(21),z=n.n(M),J=(n(43),function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).fileProcess=function(e){n.setState({file:e.target.files[0]})},n.fileUpload=function(){console.log(n.state)},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(z.a,{visible:this.props.visible,width:"80%",height:"80%",effect:"fadeInUp",onClickAway:function(){return e.props.close()}},a.a.createElement("div",{className:"modal-content"},a.a.createElement("a",{className:"popup-close",onClick:function(){return e.props.close()}},"x"),a.a.createElement("div",{className:"popup-header"},"Upload"),a.a.createElement("input",{type:"file",onChange:this.fileProcess}),a.a.createElement("button",{onClick:this.fileUpload},"upload")))}}]),t}(a.a.Component)),$=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this))).state={popUpType:null,popUpShown:!1},e}return Object(f.a)(t,e),Object(l.a)(t,[{key:"setPopUp",value:function(e){this.setState({popUpShown:!0,popUpType:e})}},{key:"closePopUp",value:function(){this.setState({popUpShown:!1,popUpType:null})}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"background"},a.a.createElement(R,null),a.a.createElement(W,null),a.a.createElement(L,null),a.a.createElement(x,null),a.a.createElement(D,null),a.a.createElement(K,null),a.a.createElement("div",{onClick:function(){return e.setPopUp("upload")}},"Upload"),a.a.createElement(J,{visible:this.state.popUpShown,close:function(){return e.closePopUp()}}))}}]),t}(a.a.Component),q=n(8),F=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options||{},n=parseInt(t.columns,10)||16,r=parseInt(t.rows,10)||16,o=Object(q.a)(),a=0;a<r*n;a++)o=o.push("");return Object(q.b)({grid:o,columns:n,rows:r})},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INIT_STATE":return F(t);default:return e}},Q=function(e,t,n){return e.set(n,t)},V=function(e,t){var n=function(e,t){var n=t.paletteColor,r=t.id;return Q(e,n,r)}(e.get("grid"),t);return e.set("grid",n)},X=function(e,t){return(e||"rgba(49, 49, 49, 1)")===(t||"rgba(49, 49, 49, 1)")},Z=function(e,t,n,r,o){var a=[];return n>=r&&X(e.get(n-r),t)&&a.push(n-r),n<(r-1)*o&&X(e.get(n+r),t)&&a.push(n+r),n%r!==0&&X(e.get(n-1),t)&&a.push(n-1),n%r!==r-1&&X(e.get(n+1),t)&&a.push(n+1),a},ee=function(e,t){var n=function(e,t){for(var n,r,o=t.id,a=t.paletteColor,c=t.columns,i=t.rows,u=e.get(o),l=[o],s=e;l.length>0;){n=l.shift(),s=Q(s,a,n),r=Z(s,u,n,c,i);for(var p=0;p<r.length;p++){var f=r[p],d=s.get(f);-1===l.indexOf(f)&&d!==a&&l.push(f)}}return s}(e.get("grid"),t);return e.set("grid",n)},te=function(e,t){switch(t.type){case v:return V(e,t);case b:return function(e,t){var n=Q(e.get("grid"),"",t.id);return e.set("grid",n)}(e,t);case E:return ee(e,t);default:return e}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;return e===t.drawingTool?g:t.drawingTool};function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INIT_STATE":return g;case"SWITCH_TOOL":return ne(e,t);default:return e}}var oe=function(){return Object(q.b)({grid:Object(q.a)(["#ff0000","#ff3300","#ff9900","#ffff00","#99ff00","#00ff00","#00ffff","#0000ff","#6600ff","#ff00ff","#ff0066"]).map((function(e,t){return Object(q.b)({color:e,id:t})})),active:0})},ae=function(e,t){return e.set("active",t.id)},ce=function(e,t){return"ERASER"===t.drawingTool?e.set("active",-1):e},ie=function(e,t){var n=t.color,r=e.get("grid"),o=function(e,t){for(var n=0;n<e.size-1;n++)if(e.getIn([n,"color"])===t)return n;return-1}(r,n);if(-1!==o)return e.set("active",o);var a=r.size-1;return e.merge({grid:r.setIn([a,"color"],n),active:a})},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INIT_STATE":return oe();case"SELECT_PALETTE_COLOR":return ae(e,t);case m:return ie(e,t);case"SWITCH_TOOL":return ce(e,t);default:return e}};function le(e){var t={cellSize:10};return e.merge(t)}function se(){return le(Object(q.b)())}var pe=function(e){return function(t,n){return e.reduce((function(e,t){return t(e,n)}),t)}};function fe(e,t){switch(t.type){case"SET_INIT_STATE":return le(e);default:return e}}var de=Object(B.b)(w()((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se(),t=arguments.length>1?arguments[1]:void 0;return fe(e,t).merge({canvas:pe([G,te])(e.get("canvas"),t),drawingTool:re(e.get("drawingTool"),t),palette:ue(e.get("palette"),t)})}),{filter:Object(O.includeAction)([b,m,E,v]),debug:!0}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var he=document.getElementById("root");i.a.render(a.a.createElement(h.a,{store:de},a.a.createElement($,{dispatch:de.dispatch})),he),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.162a2d49.chunk.js.map